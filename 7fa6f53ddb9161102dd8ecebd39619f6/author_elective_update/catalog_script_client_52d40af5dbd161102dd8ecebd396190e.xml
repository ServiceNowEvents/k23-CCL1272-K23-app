<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client">
    <catalog_script_client action="DELETE">
        <active>true</active>
        <applies_catalog>true</applies_catalog>
        <applies_extended>false</applies_extended>
        <applies_req_item>false</applies_req_item>
        <applies_sc_task>false</applies_sc_task>
        <applies_target_record>false</applies_target_record>
        <applies_to>item</applies_to>
        <cat_item display_value="Hammer">517af5fddb9161102dd8ecebd396190b</cat_item>
        <cat_variable>IO:17ecf571dbd161102dd8ecebd3961999</cat_variable>
        <condition/>
        <description/>
        <field/>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>(HB) Set user location</name>
        <order/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading) {

	// if the form is just loading or the order type is empty or the order type is not delivery we don't need to
	// fetch the delivery address
    if (isLoading || newValue == '' || g_form.getValue('order_type') != 'delivery') {
        return;
    }

	var requestedBy = g_form.getValue('requested_for');

    var locGA = new GlideAjax('HBCatalogAjax');
    locGA.addParam('sysparm_name', 'getUserLocation');
    locGA.addParam('sysparm_userID', requestedBy);
    locGA.getXMLAnswer(populateUserLocation);

    function populateUserLocation(answer) {

        var clearValue;
		// if there is a user location to populate populate it
        if (answer) {

			var returnData = JSON.parse(answer);
            g_form.setValue('delivery_address', returnData.sys_id, returnData.name);
        } else {
            g_form.setValue('delivery_address', clearValue);
        }
    }
}]]></script>
        <sys_class_name>catalog_script_client</sys_class_name>
        <sys_created_by>Bandit.Heeler</sys_created_by>
        <sys_created_on>2023-03-01 11:40:44</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>52d40af5dbd161102dd8ecebd396190e</sys_id>
        <sys_mod_count>42</sys_mod_count>
        <sys_name>(HB) Set user location</sys_name>
        <sys_overrides/>
        <sys_package display_value="Hammerbarn" source="7fa6f53ddb9161102dd8ecebd39619f6">7fa6f53ddb9161102dd8ecebd39619f6</sys_package>
        <sys_policy/>
        <sys_scope display_value="Hammerbarn">7fa6f53ddb9161102dd8ecebd39619f6</sys_scope>
        <sys_update_name>catalog_script_client_52d40af5dbd161102dd8ecebd396190e</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-03-30 01:12:55</sys_updated_on>
        <table/>
        <type>onChange</type>
        <ui_type>10</ui_type>
        <variable_set/>
        <view/>
    </catalog_script_client>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Hammerbarn">7fa6f53ddb9161102dd8ecebd39619f6</application>
        <file_path/>
        <instance_id>fa6b3f95db99291037a0c597059619d8</instance_id>
        <instance_name>empceverdingutah</instance_name>
        <name>catalog_script_client_52d40af5dbd161102dd8ecebd396190e</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Hammer"&gt;517af5fddb9161102dd8ecebd396190b&lt;/cat_item&gt;&lt;cat_variable&gt;IO:17ecf571dbd161102dd8ecebd3961999&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;(HB) Set user location&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {

	// if the form is just loading or the order type is empty or the order type is not delivery we don't need to
	// fetch the delivery address
    if (isLoading || newValue == '' || g_form.getValue('order_type') != 'delivery') {
        return;
    }

	var requestedBy = g_form.getValue('requested_for');

    var locGA = new GlideAjax('HBCatalogAjax');
    locGA.addParam('sysparm_name', 'getUserLocation');
    locGA.addParam('sysparm_userID', requestedBy);
    locGA.getXMLAnswer(populateUserLocation);

    function populateUserLocation(answer) {

        var clearValue;
		// if there is a user location to populate populate it
        if (answer) {

			var returnData = JSON.parse(answer);
            g_form.setValue('delivery_address', returnData.sys_id, returnData.name);
        } else {
            g_form.setValue('delivery_address', clearValue);
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;Bandit.Heeler&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-03-01 11:40:44&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;52d40af5dbd161102dd8ecebd396190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;42&lt;/sys_mod_count&gt;&lt;sys_name&gt;(HB) Set user location&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Hammerbarn" source="7fa6f53ddb9161102dd8ecebd39619f6"&gt;7fa6f53ddb9161102dd8ecebd39619f6&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Hammerbarn"&gt;7fa6f53ddb9161102dd8ecebd39619f6&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_52d40af5dbd161102dd8ecebd396190e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-03-30 01:12:55&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
        <payload_hash>629325083</payload_hash>
        <record_name>(HB) Set user location</record_name>
        <reverted_from/>
        <source>04b1d44adb5961102dd8ecebd396196a</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-03-30 01:12:55</sys_created_on>
        <sys_id>d8ec01c3db3da1102dd8ecebd39619d6</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>18730132c270000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-03-30 01:12:55</sys_updated_on>
        <type>Catalog Client Scripts</type>
        <update_guid>d0ec01c3a13da110330bcba6bc9b23d6</update_guid>
        <update_guid_history>d0ec01c3a13da110330bcba6bc9b23d6:629325083,0d08cd8f12f9a110a04d88d9db2a29e8:-1781145118,7576418f87f9a110f1b8722f81acb9c3:-2117741348,c6ba402f8fe56d1090e25b2bac9974ba:536754392,f85a0ceb7ee56d102c081df59dab9add:189334356,c78d788b7edd25102801ac55834adb86:-43562049,e957f447ccdd25100d67c662c4cc8a6b:-684445362,ee1ecb8e7351a11071d31fa89bcf04ea:-43562049,948c4b0eb051a1107e356a644a6d7fb9:-684445362,eedac70e2a51a1106765a8aff9a2103a:-337343878,f3f70f4aea51a11076618e433aa33326:83321934,f96687c64451a110c731dc1030549691:104325806,539383c6f751a11018660e8358b7d25c:649659907,4f804f068351a11051e77b8db2570847:1224097933,b84047068951a110a77c50557d27f61b:-1746499162,eb2ffac29051a11096a187e56d9ebcc3:1590210092,f90f7ac2ae51a110f2a6cbb27718c656:-1674559901,0abeb6c20851a11099c566fafa5a400e:825220691,6b2e72823551a1105db5bde73d051695:-43094017,5ebc7e42c951a11062ccaf7b41a3ab27:-1489378284,bffb36422351a110b3dcaa48595389cd:-500037851,a0bbfe023051a11031f5650b68e2a5e5:-1893351930,90ca3602c751a1109fbf1eb94a6162f6:-1704577081,9eaa36022a51a1107f3318db6ad118e6:-1682841940,285abace8e11a110610b454595ef43de:614801901,22c9baceae11a110d6ca5a05a71ec44e:-1840890677,f9497e8ea911a11053b8b4691af869b3:1036873526,1bb83e8ee211a110a02ef39359ff726f:977262654,5cb83e8e0b11a110e0d48f93ed221367:-30522082,6326be0eba11a110a91c951dda937e78:576135979,70167e0e0211a110add22c1fa962e8e5:693274834,2dc53a0e0b11a110bc458ad826a50115:-578304758,0c95f60e6011a110089743e37c5ffc4a:-844524231,6e65360e3811a110d6e6fb3636e1e8c5:288026719,1c55f20ee311a110fc6cb6fea50d78d5:-915367667,28157ecaee11a1100dc9984229c49d70:-1039768847,bfc47aca0f11a1108a2470f90bef7f90:1033751156,069476ca1611a1101e600b95fc3252b6:-585008756,2963b68a2b11a1105d954a0f0383953d:1005244716,5e12724a5211a1107b7e050861c25152:1575329708,c7103ac60711a110bfa29f3529e796f2:-962168260,65b68e394ed161107e57de60fc283589:629331223,9276ca394dd16110b44fec9f57b8ad60:1808833054</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="(HB) Set user location">eef3dd0bdb3da1102dd8ecebd3961964</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-03-30 01:43:56</sys_created_on>
        <sys_db_object display_value="" name="catalog_script_client">catalog_script_client</sys_db_object>
        <sys_id>718096de491d4ad8ba3735599a700224</sys_id>
        <sys_metadata>52d40af5dbd161102dd8ecebd396190e</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>(HB) Set user location</sys_name>
        <sys_package display_value="Hammerbarn" source="7fa6f53ddb9161102dd8ecebd39619f6">7fa6f53ddb9161102dd8ecebd39619f6</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Hammerbarn">7fa6f53ddb9161102dd8ecebd39619f6</sys_scope>
        <sys_scope_delete display_value="">6df20bf35f44466da2ae9416c41cb741</sys_scope_delete>
        <sys_update_name>catalog_script_client_52d40af5dbd161102dd8ecebd396190e</sys_update_name>
        <sys_update_version display_value="catalog_script_client_52d40af5dbd161102dd8ecebd396190e">d8ec01c3db3da1102dd8ecebd39619d6</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-03-30 01:43:56</sys_updated_on>
    </sys_metadata_delete>
</record_update>
